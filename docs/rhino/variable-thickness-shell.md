---
order: 40
---

# 可変厚み（1mmベース＋局所補強）を破綻させない手順

Q: アニマトロニクス外装のように、基本の肉厚（1mm）に加え、局所的な補強が必要なモデルにおいて、設計を破綻させないための重要なポイントは何ですか？

A: 最も重要なのは、**「最初から複雑な可変厚みを狙わない」**ことです。まず全体を「均一な厚みの殻（シェル）」として完成させ、その後に分割面や補強構造を「足していく」という手順を踏むことで、幾何学的なエラー（自己交差や計算の無限ループ）を最小限に抑えられます。

## 厚み付けの標準ワークフロー

Q: 厚み付けから詳細設計、補強までの工程をエラーなく進めるための「理想的な作業順序」を教えてください。

A: 以下の4ステップで進めるのが、データの健全性を保つための「黄金律」です。

1. **均一厚みの生成**: 外装のサーフェスを一定の肉厚（例：1.0mm）でオフセットし、**「完全に閉じた殻」**をまず作成します。
2. **基本設計の適用**: 前後分割、首の開口、目や口の穴あけなど、大きな形状変更をこの段階で行います。
3. **局所補強の追加**: 分割フランジ、ネジボス、リブ、機構との当たり面（平面パッド）などを、作成した殻に「合流（Boolean Union）」させます。
4. **出力検証**: スライサーで断面を確認し、意図した通りの壁数（ウォール数）で出力されるか確認します。

## 形式別の厚み付け手法

Q: モデルのデータ形式（Mesh/SubD/Brep）によって、厚みを持たせるための最適なコマンドや手法はどのように変わりますか？

A: 最終的な製造精度を考慮し、以下の手法を使い分けます。

- **Brep（NURBSソリッド）**: `Shell` コマンドが最も効率的です。内部を一気にくり抜けます。
- **サーフェス（開いた面）**: `OffsetSrf` を使用します。`Solid=Yes` オプションを使うことで、端面を自動で閉じたソリッドが得られます。
- **SubD/メッシュ**: 造形に強い反面、厳密な肉厚管理には不向きです。精密な厚みが必要な場合は一度NURBS（Brep）に変換してから処理するか、`OffsetMesh` でメッシュのまま厚みを付けます。

## 局所補強の設計パターン

Q: 3Dプリント（FDM）での強度を稼ぐために、均一な肉厚のシェルに対して「局所的な補強」を施す際の具体的な手法は？

A: 外装そのものの厚みを変えようとするのではなく、**「別パーツとして作成した補強構造を合体させる」**手法をとります。

- **フランジ（合わせ面）**: 分割面に設ける平らな「襟」のような構造。組付け時の剛性を劇的に高めます。
- **リブ**: 広い面がたわむのを防ぐための「梁」。薄板の裏側に三角形や帯状の板を追加します。
- **ボス**: ネジを立てるための「円柱」。根元に補強リブを添えるのが鉄則です。
- **インターフェース（当たり面）**: 機構部品が載る場所を平面や円筒状に盛り上げ、安定した固定を可能にします。

## Rhinoコマンドによる実践

Q: 厚みのないサーフェス（開いた面）に対して、Rhino上で1.0mmの肉厚を設定し、ソリッド化するための具体的な手順を教えてください。

A: `OffsetSrf` を使用します。
1. サーフェスを選択し、`OffsetSrf` を実行。
2. **Distance=1.0**（内側か外側かは矢印で確認し、必要なら `FlipAll`）。
3. **Solid=Yes** を設定（ここが `No` だと端面が開き、ソリッドになりません）。
4. 実行し、`Check` コマンドで「Closed Brep」になっているか確認します。

Q: OffsetSrfコマンドで厚みを付けようとした際、形状が崩れたりエラーが出たりする場合の「代表的な原因」と「回避策」は何ですか？

A: 主に **「自己交差（Self-intersection）」** が原因です。
- **原因**: 形状の曲率半径（R）よりも大きな厚みを設定すると、内側で面が突き抜けてしまいます。
- **対策**: 失敗する箇所をあらかじめ `Split` で切り分け、曲率の緩やかな場所と急な場所で個別にオフセットをかけます。あるいは、元の曲線を `Smooth` して曲率を緩めてから再実行します。

Q: 中身の詰まったソリッド（閉じたBrep）の内部をくり抜き、一定の肉厚を持つ「殻」の状態にするための最適なコマンドとその手順は？

A: `Shell` コマンドが最適です。
1. `Shell` を実行し、くり抜きたいソリッドを選択。
2. **Thickness=1.0** を設定。
3. **「開口部（穴）」にしたい面**（例：首の断面など）を選択します。選択された面が除去され、内部が一定の厚みでくり抜かれます。

Q: 既存のメッシュデータに対して、直接厚みを付けて「殻」の状態にするためのコマンドと、その際の注意点を教えてください。

A: `OffsetMesh` を使用します。
- **実行前の確認**: `CheckMesh` で、メッシュに致命的な穴や「非多様体エッジ」がないことを必ず確認してください。
- **限界**: メッシュのオフセットはサーフェスに比べてトポロジが崩れやすいため、1.0mmのオフセットで破綻する場合は、メッシュを分割してから部分ごとに処理するか、SubDに移行して再構築することを検討します。

## 運用上の注意点とトラブル対策

Q: 形状が急激に折れ曲がっている箇所で、オフセット計算が自己交差して破綻してしまう場合の現実的な対処法は？

A: 無理に一度の操作で厚みを付けようとせず、**「まず薄い厚み（例：0.5mm）を付けてから、さらに厚くする」**か、あるいは**「厚みを付けた後に、自己交差して汚くなった箇所を一度切り取り、手動で面を張り直す（Loft等）」**のが、実務上最も確実な解決策です。

Q: 首などの大きな開口部の縁が、1mm程度の薄肉のままだとプリント時や使用時に割れてしまう問題への設計的な対策はありますか？

A: **「開口部の縁（エッジ）を設計的に太らせる」** 対策をとります。開口部の曲線に対して `Pipe` や `Extrude` でリング状の補強を作成し、それを本体に合流させることで、物理的な強度を確保します。

Q: 最初のモデリング工程を終え、肉厚設定（オフセット処理）を行う直前と直後に、データの品質を保証するためにチェックすべき項目は何ですか？

A: 以下の4点を確認してください。
- [ ] **単位と公差**: ドキュメント単位が `mm` で、公差が `0.01` 以下になっているか（薄肉設計では公差が重要です）。
- [ ] **断面の曲率**: `CurvatureAnalysis` 等で、厚み（1mm）以上の曲率半径が確保されているか。
- [ ] **閉じたソリッド**: 処理後のデータが `Closed Brep` または `Closed Mesh` になっているか。
- [ ] **方向の一貫性**: 厚みがすべて「内側（または外側）」に統一されて付いているか。
