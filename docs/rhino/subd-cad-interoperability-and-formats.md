---
order: 16
---

# SubDを他CADに渡すとどうなる？（STEP/IGES/STL/3MFと相性）

Q: Rhinoで作成したSubDモデルは、他のCADソフトウェア（SOLIDWORKSやFusion 360など）へ持ち込んで編集を続けるのに適していますか？

A: 正直なところ、**SubDそのものは従来の「パラメトリックCAD」での編集とは相性が悪い**のが現状です。多くの機械系CADはSubD構造をネイティブに理解できないため、持ち込む際には「単純なメッシュ」として扱われるか、あるいはRhino側で「膨大な数のNURBSパッチ」に変換してから渡すことになり、結果として受け取り側での編集性が著しく低下するためです。

## 他のCADでの扱われ方

Q: SubDモデルを他のCADへエクスポートした際、受け取り側のソフトでは一般的にどのようなデータとして認識されますか？

A: 以下の2つのパターンのいずれかになります。

- **パターンA: メッシュボディとして読み込まれる**
  - エクスポート時にOBJやSTLを選択した場合です。多くのCADでは「表示用のガイド」としては使えますが、その形状に対して精密なフィレットをかけたり、寸法を変更したりといった「CADらしい編集」はほとんどできません。
- **パターンB: NURBS（Brep）に変換して読み込まれる**
  - エクスポート時にSTEP形式などを選択し、Rhino側で `ToNURBS` 変換を行った場合です。形状はソリッドとして認識されますが、SubDの一枚一枚の面が個別のNURBSパッチに分解されるため、**「面数が多すぎて非常に重いデータ」**になります。これにより、受け取り側のCADでブーリアン演算が失敗したり、動作が極端に重くなったりするトラブルが頻発します。

## 各ファイル形式との相性と使い分け

Q: 業界標準の「STEP形式」を使用してSubDモデルを他CADへ渡す際のメリットと、運用上の注意点は何ですか？

A: STEPは現在、最も信頼性の高い交換形式ですが、SubDとの相性には注意が必要です。
- **利点**: ソリッド（塊）として渡せるため、他CADでの「穴あけ」や「部品の配置」の基準として利用できます。
- **注意点**: SubD由来のモデルをSTEPにすると面数が爆発的に増えるため、他CAD側での「形状そのものの変更（面の張り替え等）」はほぼ不可能になると考えてください。

Q: 「IGES形式」を使用してデータを交換する場合、STEP形式と比較してどのような違いやリスクがありますか？

A: IGESは古い形式であり、曲面の受け渡しには対応していますが、STEPに比べて「面がバラバラになりやすい（ソリッドとしての整合性が保たれにくい）」という欠点があります。現代のワークフローでは、特別な理由がない限り **STEP形式を優先** することを強く推奨します。

Q: 3Dプリントを目的としてデータを書き出す際、「STL」と「3MF」のどちらの形式を選ぶべきですか？それぞれの特徴を教えてください。

A: 3Dプリント工程へ渡すなら、最終的にはメッシュ形式（STLまたは3MF）が標準です。
- **STL**: 歴史が長く、ほぼすべてのスライサーソフトで開けます。ただし、単位（mm）や色の情報が欠落しやすく、データの「表裏（法線）」のエラーが起きやすいのが難点です。
- **3MF（推奨）**: 単位情報、マテリアル、複数のパーツ構成を正確に保持できる新しい形式です。最新のスライサー（Bambu Studio, PrusaSlicer, Cura等）を使用している場合は、3MFの方がトラブルが少なくスムーズです。

## 実務における効率的な運用

Q: 作成したモデルを構造解析（FEA）などのシミュレーションに回す場合、どのようなデータの状態（メッシュかソリッドか）が求められますか？

A: 解析ソフトによりますが、一般的には以下のいずれかが必要です。
- **メッシュ解析**: 「水漏れのない（Watertight）閉じたメッシュ」であれば、SubDから直接書き出したSTLで十分な場合が多いです。
- **ソリッド解析**: 精密な接触判定が必要な場合は、Rhino側で `ToNURBS` 変換を行い、隙間のないBrep（ソリッド）としてSTEPで渡す必要があります。

Q: 有機的なSubDモデルと、他CADでの精密なメカ設計を効率よく統合するための「実務的なデータのやり取り手法」はありますか？

A: 「すべてを他CADに持っていこう」とせず、以下のように役割を分担するのが最も賢明です。
1. **有機的な外装（顔など）**: RhinoのSubDで完成させ、他CADへは「配置のガイド」として軽量なメッシュで渡す。
2. **精密な機構部（ネジボスや合わせ面）**: Rhino側で **Brep（NURBSソリッド）** として作り込み、この部分だけをSTEP形式で他CADへ渡す。
3. **最終合流**: 最終的な製造用データ（STL/3MF）の作成は、最もブーリアン演算が得意なソフト（通常はRhino）で行う。

## データ受け渡し前の最終チェック

Q: データを他者や他ソフトへ渡す直前に、トラブルを防ぐために確認しておくべき「最終チェック項目」は何ですか？

A: 相手のソフトで開いた瞬間に「データが壊れている」と言われないよう、以下の3点を確認してください。
- [ ] **相手の目的の確認**: 相手が必要なのは「形状の参照（メッシュ）」なのか、「さらなる編集（NURBS）」なのか。
- [ ] **面数の確認**: `ToNURBS` でSTEP化する場合、面数が数万枚になっていないか。多すぎる場合は、Rhino側でSubDの解像度を下げるなどの調整を行ったか。
- [ ] **単位の確認**: エクスポート設定で、単位（mm）が正しく埋め込まれているか。
